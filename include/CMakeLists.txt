IF (WIN32)
    IF (CMAKE_BUILD_TYPE MATCHES "Debug")
        SET (BUILD_TYPE "Debug")
        SET (OGRE_PLUGINDIR $ENV{OGRE_HOME}/bin/debug)
        STRING (REPLACE "\\" "/" OGRE_PLUGIN_DIR ${OGRE_PLUGINDIR})
    ELSEIF (CMAKE_BUILD_TYPE MATCHES "Release")
        SET (BUILD_TYPE "Release")
        SET (OGRE_PLUGINDIR $ENV{OGRE_HOME}/bin/release)
        STRING (REPLACE "\\" "/" OGRE_PLUGIN_DIR ${OGRE_PLUGINDIR})
    ELSEIF (CMAKE_BUILD_TYPE MATCHES "RelWithDebInfo")
	SET (BUILD_TYPE "RelWithDebInfo")
        SET (OGRE_PLUGINDIR $ENV{OGRE_HOME}/bin/relwithdebinfo)
        STRING (REPLACE "\\" "/" OGRE_PLUGIN_DIR ${OGRE_PLUGINDIR})
    ENDIF (CMAKE_BUILD_TYPE MATCHES "Debug")
ELSEIF (APPLE)
ELSE (APPLE)
	#        SET (OGRE_PLUGIN_DIR ${OGRE_LIBDIR}/OGRE)
IF(CMAKE_BUILD_TYPE MATCHES "Debug")
    SET (OGRE_PLUGIN_DIR ${OGRE_LIBRARY_DIR_DBG}/OGRE)
ELSEIF (CMAKE_BUILD_TYPE MATCHES "Release")
    SET (OGRE_PLUGIN_DIR ${OGRE_LIBRARY_DIR_REL}/OGRE)
ELSEIF (CMAKE_BUILD_TYPE MATCHES "RelWithDebInfo")
    SET (OGRE_PLUGIN_DIR ${OGRE_LIBRARY_DIR_REL}/OGRE)
ENDIF(CMAKE_BUILD_TYPE MATCHES "Debug")

ENDIF (WIN32)
	file(GLOB_RECURSE UBC_HEADERS "*.h")
	SET (UBC_DATADIR ${UBC_DATA_DIR})
        CONFIGURE_FILE (${CMAKE_CURRENT_SOURCE_DIR}/config.h.cmake ${CMAKE_CURRENT_SOURCE_DIR}/config.h)
