IF (WIN32)
    SET (BOOST_INCLUDEDIR $ENV{OGRE_HOME}/boost_1_42)
    SET (BOOST_LIBDIR $ENV{OGRE_HOME}/boost_1_42/lib)
    SET (OGRE_INCLUDEDIR $ENV{OGRE_HOME}/include/OGRE)
    SET (OGRE_DEPENDINCLUDEDIR $ENV{OGRE_HOME}/Samples/include)
    SET (CEGUI_INCLUDEDIR $ENV{OGRE_HOME}/include/cegui)
    SET (OGRE_LIBDIR $ENV{OGRE_HOME}/lib/release)
    SET (OGRE_LIBS OgreMain)
    SET (OGRE_DEPENDLIBDIR $ENV{OGRE_HOME}/lib)
    SET (OIS_INCLUDEDIR $ENV{OGRE_HOME}/include)
    SET (OIS_LIBDIR $ENV{OGRE_HOME}/lib/release)
    SET (OIS_LIB ois)
    SET (MyGUI_INCLUDEDIR $ENV{MyGUI_HOME}/MyGUI/include)
    SET (MyGUI_LIBDIR $ENV{MyGUI_HOME}/lib)
    SET (MyGUI_LIBS mygui)
    SET (OgreAL_INCLUDEDIR $ENV{OGREAL_HOME}/include)
    SET (OgreAL_LIBDIR $ENV{OGREAL_HOME}/lib/release)
    SET (OgreAL_LIBS OgreAL)
    SET (OpenAL_INCLUDEDIR $ENV{OPENAL_SDK}/include)
    SET (ENET_INCLUDEDIR $ENV{ENET_HOME}/include)
    SET (ENET_LIBDIR $ENV{ENET_HOME}/release)
    SET (ENET_LIBS enet winmm ws2_32)
    MESSAGE(${OGRE_LIBDIR})
    INCLUDE_DIRECTORIES(${UBC_INCLUDE_DIR} ${UBC_SRC_DIR}/tinyxml  ${UBC_SRC_DIR}/enet/include ${BOOST_INCLUDEDIR} ${OGRE_INCLUDEDIR} ${OIS_INCLUDEDIR} ${MyGUI_INCLUDEDIR} ${OgreAL_INCLUDEDIR} ${OpenAL_INCLUDEDIR})
    LINK_DIRECTORIES(${UBC_SRC_DIR}/tinyxml ${UBC_SRC_DIR}/enet ${BOOST_LIBDIR} ${OGRE_LIBDIR} ${OGRE_DEPENDLIBDIR} ${OIS_LIBDIR} ${MyGUI_LIBDIR} ${OgreAL_LIBDIR})

    ADD_EXECUTABLE(ubc WIN32 ${UBC_SRCS})
    TARGET_LINK_LIBRARIES(ubc tinyxml ${ENET_LIBS} ${OGRE_LIBS} ${OIS_LIB})
    ADD_EXECUTABLE(client ${CLIENT_SRCS} )
    TARGET_LINK_LIBRARIES( client tinyxml ${ENET_LIBS} ${OGRE_LIBS} ${OIS_LIBS} )
    ADD_EXECUTABLE(server ${SERVER_SRCS} )
    TARGET_LINK_LIBRARIES( server tinyxml ${ENET_LIBS} ${OGRE_LIBS} ${OIS_LIBS} )
    #INCLUDE_DIRECTORIES(${UBC_INCLUDE_DIR} ${UBC_SRC_DIR}/tinyxml  ${UBC_SRC_DIR}/enet/include ${BOOST_INCLUDEDIR} ${OGRE_INCLUDEDIR} ${OIS_INCLUDEDIR} ${MyGUI_INCLUDEDIR} ${OgreAL_INCLUDEDIR} ${OpenAL_INCLUDEDIR})
    #LINK_DIRECTORIES(${UBC_SRC_DIR}/tinyxml ${UBC_SRC_DIR}/enet ${BOOST_LIBDIR} ${OGRE_LIBDIR} ${OGRE_DEPENDLIBDIR} ${OIS_LIBDIR} ${MyGUI_LIBDIR} ${OgreAL_LIBDIR})

ELSEIF (APPLE)
    INCLUDE_DIRECTORIES (../include ../src/tinyxml ../Dependencies/include)
    LINK_DIRECTORIES(../src/tinyxml ../Dependencies/lib/Debug)
    FIND_LIBRARY(OGRE_LIB Ogre)
    MARK_AS_ADVANCED(OGRE_LIB)
    FIND_LIBRARY(CG_LIB Cg)
    MARK_AS_ADVANCED(CG_LIB)
    FIND_LIBRARY(CARBON_LIB Carbon)
    MARK_AS_ADVANCED(CARBON_LIB)
    ADD_EXECUTABLE (ubc ${UBC_SRCS})
    TARGET_LINK_LIBRARIES( ubc tinyxml ${OGRE_LIB} ${CG_LIB} ${CARBON_LIB}  ois)
ELSE (APPLE)
    ADD_CUSTOM_COMMAND(
        OUTPUT ${CMAKE_CURRENT_SOURCE_DIR}/../src/config.h
        COMMAND ${CMAKE_COMMAND} -E  echo ${OGRE_PLUGINDIR} >>  ${CMAKE_CURRENT_SOURCE_DIR}/../src/config.h
    )

    INCLUDE_DIRECTORIES(../include ${SRC_SOURCE_DIR}/enet/include ../src/tinyxml ../src/enet/include ${OGRE_INCLUDEDIR} ${OIS_INCLUDEDIR} ${MyGUI_INCLUDEDIR} ${OGREBULLET_INCLUDEDIR} ${BULLET_INCLUDEDIR} ${OGREAL_INCLUDEDIR})
    LINK_DIRECTORIES(../src/tinyxml ${OGRE_LIBDIR} ${OIS_LIBDIR} ${MyGUI_LIBDIR} ${OGREBULLET_LIBDIR} ${BULLET_LIBDIR} ${OGREAL_LIBDIR})
    ADD_EXECUTABLE(ubc ${UBC_SRCS} )
    TARGET_LINK_LIBRARIES( ubc tinyxml enet ${MyGUI_LIBS} ${OGRE_LIBS} ${OIS_LIBS})
    ADD_EXECUTABLE(client ${CLIENT_SRCS} )
    TARGET_LINK_LIBRARIES( client tinyxml enet ${MyGUI_LIBS} ${OGRE_LIBS} ${OIS_LIBS} )
    ADD_EXECUTABLE(server ${SERVER_SRCS} )
    TARGET_LINK_LIBRARIES( server tinyxml enet ${MyGUI_LIBS} ${OGRE_LIBS} ${OIS_LIBS} )
ENDIF (WIN32)
